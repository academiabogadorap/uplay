{% extends "base.html" %}
{% block title %}Inicio{% endblock %}
{% block content %}

  <style>
    /* ===== Marca UPLAY + tagline ===== */
    .hero-head{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:10px; margin-bottom:8px; flex-wrap:wrap;
    }
    .brand{
      display:flex; flex-direction:column; gap:2px; min-width:220px;
    }
    .brand-title{
      margin:0;
      font-weight:800;
      letter-spacing:.3px;
      font-size:clamp(1.15rem, 3.2vw, 1.6rem);
      line-height:1.1;
      display:flex; align-items:center; gap:8px;
    }
    .brand-tag{
      margin:0;
      text-transform:uppercase;
      font-weight:800;
      letter-spacing:.14em;
      line-height:1;
      font-size:clamp(.78rem, 1.6vw, .92rem);
      background: linear-gradient(90deg, #6EA8FF, #22C55E);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      filter: drop-shadow(0 0 0.15em rgba(0,0,0,.25));
      opacity:.95;
    }
    @media (max-width:520px){
      .hero-head{ align-items:flex-start; }
    }
  </style>

  <div class="hero-head">
    {% if current_jugador %}
      <a href="{{ url_for('mi_panel') }}" class="btn btn-ghost">Ir a Mi panel</a>
    {% endif %}
  </div>

  {% if current_jugador %}
    <div class="card" style="max-width:980px;">
      <p style="margin:0;">
        Hola, <strong>{{ current_jugador.nombre_completo }}</strong>.
        Categoría: <strong>{{ current_jugador.categoria.nombre if current_jugador.categoria else '-' }}</strong>,
        Puntos: <strong>{{ current_jugador.puntos }}</strong>.
        {% if en_zona %}
          <span class="badge badge-ok">En zona de ascenso</span>
        {% endif %}
      </p>
    </div>

    <div class="grid-cards" style="margin-top:10px;">
      <div class="card">
        <h3 style="margin:0 0 6px;">Mi panel</h3>
        <p class="muted">Acciones rápidas y próximos partidos.</p>
        <a href="{{ url_for('mi_panel') }}" class="btn">Abrir Mi panel</a>
      </div>

      <div class="card">
        <h3 style="margin:0 0 6px;">Crear partido abierto</h3>
        <p class="muted">Armá un partido en tu categoría y compartí el link.</p>
        <form method="post" action="{{ url_for('abiertos_new') }}" style="display:grid; gap:8px;">
          <input type="hidden" name="categoria_id" value="{{ current_jugador.categoria_id }}">
          <input type="hidden" name="creador_id" value="{{ current_jugador.id }}">
          <input name="nota" placeholder="Ej: hoy 20:00 en Club X">
          <button type="submit" class="btn">Crear</button>
        </form>
      </div>

      <div class="card">
        <h3 style="margin:0 0 6px;">Unirme a un partido</h3>
        <p class="muted">Ver partidos abiertos en tu categoría.</p>
        <a href="{{ url_for('abiertos_list') }}" class="btn">Ver abiertos</a>
      </div>

      <div class="card">
        <h3 style="margin:0 0 6px;">Ranking</h3>
        <p class="muted">Jugadores ordenados por nivel.</p>
        <a href="{{ url_for('ranking') }}" class="btn">Ver ranking</a>
      </div>
    </div>

  {% else %}
    <div class="card" style="max-width:980px;">
      <p style="margin:0;">
        Podés <strong>iniciar sesión</strong> para crear o unirte a partidos, o ver el <strong>ranking</strong>.
      </p>
      <div style="display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;">
        <a href="{{ url_for('login') }}" class="btn">Iniciar sesión</a>
        <a href="{{ url_for('alta_publica') }}" class="btn btn-ghost">Pedir el alta</a>
        <a href="{{ url_for('ranking') }}" class="btn btn-ghost">Ver ranking</a>
        <a href="{{ url_for('categorias_list') }}" class="btn btn-ghost">Categorías</a>
        {# Se quitaron "Jugadores" y "Partidos abiertos" solo en Home #}
      </div>
    </div>

    <div class="card" style="border-style:dashed; margin-top:10px; max-width:980px;">
      <h3 style="margin:0 0 6px;">¿Primera vez?</h3>
      <ol style="margin:0; padding-left:18px;">
        <li>Pedí el <strong>alta</strong> al organizador.</li>
        <li>Entrá por <em>Iniciar sesión</em> con tu nombre y PIN.</li>
        <li>Creá un <strong>partido abierto</strong> en tu categoría o unite a uno existente.</li>
        <li>Jugá y luego cargá el resultado para sumar al ranking.</li>
      </ol>
    </div>
  {% endif %}

  <div style="margin-top:12px;">
    <h3 style="margin:0 0 6px;">Atajos útiles</h3>
    <div style="display:flex; flex-wrap:wrap; gap:10px;">
      <a href="{{ url_for('partidos_list') }}" class="btn btn-ghost">Partidos</a>
      <a href="{{ url_for('desafios_list') }}" class="btn btn-ghost">Desafíos</a>
    </div>
  </div>

{% endblock %}

{% block help_content %}
<!-- (se mantiene tal cual lo tenías) -->
{{ super() }}
{% endblock %}
