{% extends "base.html" %}
{% block title %}Aprobar solicitud{% endblock %}
{% block content %}
  <h2>Aprobar solicitud</h2>

  <div style="border:1px solid #ddd; padding:10px; border-radius:8px; max-width:620px;">
    <p><strong>{{ sol.nombre_completo }}</strong></p>
    <p>
      {% if sol.email %}游닎 {{ sol.email }}{% endif %}
      {% if sol.telefono %}<br>游님 {{ sol.telefono }}{% endif %}
    </p>
    <p>Categor칤a solicitada: <strong>{{ sol.categoria.nombre if sol.categoria else '-' }}</strong></p>
    {% if sol.mensaje %}<p>Mensaje: <em>{{ sol.mensaje }}</em></p>{% endif %}

    <form method="post">
      <label for="puntos">Puntos iniciales</label>
      <input id="puntos" name="puntos" type="number" required value="{{ puntos_sugeridos }}">

      <!-- Opci칩n 1: PIN autom치tico por email -->
      <div style="margin:12px 0; padding:10px; background:#F8FAFC; border:1px solid #E5E7EB; border-radius:8px;">
        <strong>PIN inicial</strong>
        <p style="margin:6px 0 0; color:#334155; font-size:14px;">
          No hace falta ingresarlo: generamos un <em>c칩digo de activaci칩n</em> y se lo enviamos por email.
          Con ese c칩digo (v치lido por <strong>24 h</strong>) el jugador crear치 su propio PIN en el primer ingreso.
        </p>
      </div>

      <!-- Mantengo el par치metro 'pin' por compatibilidad, pero oculto y vac칤o -->
      <input name="pin" type="hidden" value="">

      <button type="submit">Crear jugador y aprobar</button>
      <a href="{{ url_for('admin_solicitudes_list') }}" style="margin-left:8px;">Cancelar</a>
    </form>
  </div>
{% endblock %}
